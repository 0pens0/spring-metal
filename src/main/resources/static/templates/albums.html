<div id="albums" ng-init="init()" class="container-fluid py-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1 class="h2 mb-0">Albums</h1>
        <div class="d-flex gap-3 align-items-center">
            <div class="btn-group" role="group" aria-label="View options">
                <button type="button" class="btn btn-outline-primary" ng-click="setAlbumsView('grid')" title="Grid view">
                    <i class="fas fa-th"></i>
                </button>
                <button type="button" class="btn btn-outline-primary" ng-click="setAlbumsView('list')" title="List view">
                    <i class="fas fa-list"></i>
                </button>
            </div>
            
            <div class="dropdown">
                <button class="btn btn-outline-primary dropdown-toggle" type="button" data-bs-toggle="dropdown">
                    Sort by
                </button>
                <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="#" ng-click="sortField='title'">Title</a></li>
                    <li><a class="dropdown-item" href="#" ng-click="sortField='artist'">Artist</a></li>
                    <li><a class="dropdown-item" href="#" ng-click="sortField='releaseYear'">Year</a></li>
                    <li><a class="dropdown-item" href="#" ng-click="sortField='genre'">Genre</a></li>
                    <li><a class="dropdown-item" href="#" ng-click="sortField='userReview'">Review</a></li>
                    <li><a class="dropdown-item" href="#" ng-click="sortField='userScore'">Score</a></li>
                    <li><hr class="dropdown-divider"></li>
                    <li>
                        <a class="dropdown-item" href="#" ng-click="sortDescending=!sortDescending">
                            <i class="fas" ng-class="{'fa-sort-up' : !sortDescending, 'fa-sort-down' : sortDescending}"></i>
                            {{sortDescending ? 'Descending' : 'Ascending'}}
                        </a>
                    </li>
                </ul>
            </div>

            <button class="btn btn-primary" ng-click="addAlbum()">
                <i class="fas fa-plus me-2"></i>Add Album
            </button>
        </div>
    </div>

    <div class="row mb-4">
        <div ng-include src="'templates/status.html'"></div>
    </div>

    <div class="row multi-columns-row">
        <div ng-include src="albumsView"></div>
        <div ng-controller="InfoController">
            <deep-chat ng-if='info.profiles.includes("llm")' id="music-ai"   
                introMessage="Hi I am your Boneyard assistant, ask me anything!"
                request='{
                "url": "/ai/rag",
                "method": "POST",
                "headers": {"customName": "customHeaderValue"}
                }'
                containerStyle='{
                    "borderRadius": "10px",
                    "position": "fixed",
                    "bottom": "0px",
                    "right": "7%",
                    "zIndex": "1",
                    "width": "470px",
                    "height": "60%",
                    "fontSize": "16px",
                    "boxShadow": "0 4px 6px rgba(0, 0, 0, 0.1)"
                  }'
                  messageStyles='{
                    "default": {
                      "shared": {
                        "bubble": {
                          "maxWidth": "100%", "backgroundColor": "unset", "marginTop": "10px", "marginBottom": "10px"}},
                      "user": {
                        "bubble": {
                          "marginLeft": "0px", "color": "black"}},
                      "ai": {
                        "outerContainer": {
                          "backgroundColor": "#F8F9FA", "borderTop": "1px solid rgba(0,0,0,.1)", "borderBottom": "1px solid rgba(0,0,0,.1)"
                        }
                      }
                    }
                  }'
                  avatars='{
                    "default": {"styles": {"position": "left"}},
                    "ai": {"src": "img/openAIGreyLogo.svg"}
                  }'
                  submitButtonStyles='{
                    "submit": {
                      "container": {
                        "default": {"backgroundColor": "#0d6efd"},
                        "hover": {"backgroundColor": "#0b5ed7"},
                        "click": {"backgroundColor": "#0a58ca"}
                      },
                      "svg": {
                        "content": "<?xml version=\"1.0\" ?> <svg viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"> <g> <path d=\"M21.66,12a2,2,0,0,1-1.14,1.81L5.87,20.75A2.08,2.08,0,0,1,5,21a2,2,0,0,1-1.82-2.82L5.46,13H11a1,1,0,0,0,0-2H5.46L3.18,5.87A2,2,0,0,1,5.86,3.25h0l14.65,6.94A2,2,0,0,1,21.66,12Z\"> </path> </g> </svg>",
                        "styles": {
                          "default": {
                            "width": "1.3em",
                            "marginTop": "0.15em",
                            "filter": "brightness(0) saturate(100%) invert(100%) sepia(28%) saturate(2%) hue-rotate(69deg) brightness(107%) contrast(100%)"
                          }
                        }
                      }
                    },
                    "loading": {
                      "svg": {
                        "styles": {
                          "default": {"filter": "brightness(0) saturate(100%) invert(72%) sepia(0%) saturate(3044%) hue-rotate(322deg) brightness(100%) contrast(96%)"}
                        }
                      }
                    },
                    "stop": {
                      "container": {"default": {"backgroundColor": "white"}},
                      "svg": {
                        "styles": {
                          "default": {"filter": "brightness(0) saturate(100%) invert(72%) sepia(0%) saturate(3044%) hue-rotate(322deg) brightness(100%) contrast(96%)"}
                        }
                      }
                    }
                  }' />
        </div>
    </div>
</div>
